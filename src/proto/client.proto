syntax = "proto3";

option go_package = "gitlab.up.pt/classes/sdle/2025/t2/g01";

import "shopping.proto";
import "node.proto";

message GetShoppingListRequest {
    string id = 1;
}

message SubscribeShoppingListRequest {
    string id = 1;
}

message RequestRingView {}

message Ok {}

enum ErrorCode {
    NOT_FOUND = 0;
}

message ClientRequest {
    string message_id = 1;

    oneof request_type {
        ShoppingList shopping_list = 2;
        GetShoppingListRequest get_shopping_list = 3;
        SubscribeShoppingListRequest subscribe_shopping_list = 4;
        RequestRingView ring_view = 5;
    }
}

message ServerResponse {
    string message_id = 1;

    oneof response_type {
        ShoppingList shopping_list = 2;
        ErrorCode error = 3;
        RingView ring_view = 4;
    }
}